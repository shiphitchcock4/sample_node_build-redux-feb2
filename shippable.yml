# Language setting
language: node_js


# Version number
node_js:
  - 0.12
  - 0.10.41
  - "5.0"
  - "0.11"
  
addons:
  - firefox: "27.0"
services:
  -  cassandra
  -  mysql2

matrix:
  allow_failures:
    - node_js: 0.12
 
  exclude:
    - node_js: "0.12"
    -  env: M1=ONE
    - node_js: "5.0"
      env: M2=TWO
    - node_js: "0.11"
    
    
build:
  #pre_ci:
   # - docker build -t=shippabledocker/shiphitchcock2_sample_node .

  pre_ci_boot:
    image_name: drydock/u12nodpls
    image_tag: prod
    pull: true
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ps -eax
    - ls -al
    - if [ "$SHIPPABLE_NODE_VERSION" == "0.12" ]; then foobar; fi 
    - npm install
    - npm test
    - echo $M1 and $M2 and $M3

  

integrations:
  hub:
    - integrationName: ship-docker
      type: docker
      
